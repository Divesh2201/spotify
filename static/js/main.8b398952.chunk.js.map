{"version":3,"sources":["spotify.js","Login.js","DataLayer.js","Header.js","SongRow.js","reducer.js","Body.js","Footer.js","SidebarOption.js","Sidebar.js","Player.js","App.js","reportWebVitals.js","index.js"],"names":["loginUrl","join","Login","class","src","alt","href","DataLayerContext","createContext","DataLayer","initialState","reducer","children","Provider","value","useReducer","useDataLayerValue","useContext","Header","spotify","user","className","type","placeholder","Avatar","images","url","display_name","SongRow","track","playSong","console","log","onClick","id","album","name","artists","map","artist","ACTION","Body","discover_weekly","dispatch","play","uris","then","res","getMyCurrentPlayingTrack","r","item","playing","description","context_uri","fontSize","tracks","items","Footer","Grid","container","spacing","xs","Slider","aria-labelledby","SidebarOption","title","Icon","Sidebar","playlist","HomeIcon","SearchIcon","LibraryMusicIcon","Player","SpotifyWebApi","App","token","useEffect","hash","window","location","substring","split","reduce","initial","parts","decodeURIComponent","_token","access_token","setAccessToken","getMe","getUserPlaylists","playlists","getMyTopArtists","response","top_artists","getPlaylist","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","state","action","document","getElementById"],"mappings":"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","file":"static/js/main.8b398952.chunk.js","sourcesContent":["export const authEndpoint = \"https://accounts.spotify.com/authorize\";\nconst redirectUrl = \"http://localhost:3000/\";\nconst clientId = \"4425039a267d42b3a485e1b0c6d5ac7c\";\nconst scopes = [\n  \"user-read-currently-playing\",\n  \"user-read-recently-played\",\n  \"user-read-playback-state\",\n  \"user-top-read\",\n  \"user-modify-playback-state\",\n]\n\nexport const getTokenFromUrl = () => {\n  return window.location.hash\n  .substring(1)\n  .split('&')\n  .reduce((initial, item) => {\n    let parts = item.split('=')\n    initial[parts[0]] = decodeURIComponent(parts[1])\n    return initial\n  }, {})\n}\n\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUrl}&scope=${scopes.join('%20')}&response_type=token&show_dialog=true`;","import React from 'react'\nimport './Login.css'\nimport { loginUrl } from './spotify'\n\nfunction Login() {\n  return (      \n    <div class='wrapper'>\n      <img src=\"https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_CMYK_Black.png\"\n      alt=\"\"\n      /><br />\n      <a href={loginUrl}>Login with Spotify</a>\n    </div>\n  )\n}\n// https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\n\nexport default Login\n","import React, { createContext, useContext, useReducer } from 'react'\n\nexport const DataLayerContext = createContext()\n\nexport const DataLayer = ({initialState, reducer, children}) => {\n  return (\n    <DataLayerContext.Provider value={useReducer(reducer, initialState)}>\n      {children}\n    </DataLayerContext.Provider>\n  )\n}\n\nexport const useDataLayerValue = () => useContext(DataLayerContext)","import React from 'react'\nimport './Header.css'\nimport SearchIcon from '@material-ui/icons/Search' \nimport { Avatar } from \"@material-ui/core\";\nimport {useDataLayerValue} from './DataLayer'\n\n\nfunction Header({ spotify }) {\n\n  const [{user}, dispatch] = useDataLayerValue()\n  return (\n    <div className='header'>\n      <div className='header_left'>\n        <SearchIcon />\n        <input type='text' placeholder='Search for Artists, Songs, or Playlists' />\n      </div>\n      <div className='header_right'>\n        <Avatar src={user?.images[0].url} alt={user?.display_name} />\n        <h4>{user?.display_name}</h4>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","\nimport React from \"react\";\nimport \"./SongRow.css\";\n\nfunction SongRow({ track, playSong }) {\n  console.log(track);\n  return (\n    <div className=\"songRow\" onClick={() => playSong(track.id)}>\n      <img className=\"songRow_album\" src={track.album.images[0].url} alt=\"\" />\n      <div className=\"songRow_info\">\n        <h1>{track.name}</h1>\n        <p>\n          {track.artists.map((artist) => artist.name).join(\", \")} -{\" \"}\n          {track.album.name}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default SongRow;","export const ACTION = {\n  SET_USER: 'set_user',\n  SET_TOKEN: 'set_token',\n  SET_PLAYLIST: 'set_playlist',\n  SET_TOP_ARTISTS: 'set_top_artists',\n  SET_DISCOVER_WEEKLY: 'set_discover_weekly',\n  SET_SPOTIFY: 'set_spotify',\n  SET_ITEM: 'set_item',\n  SET_PLAYING: 'set_playing',\n}\n\nexport const initialState = {\n  user: null,\n  playlist: [],\n  playing: false,\n  item: null,\n  token: null,\n  spotify: null,\n  discover_weekly: null,\n  top_artists: null,\n} \n\n\nexport const reducer = (state, action) => {\n  console.log(action)\n  switch(action.type) {\n    case ACTION.SET_USER:\n      return {\n        ...state, user: action.user\n      }\n    case ACTION.SET_TOKEN:\n      return {\n        ...state, token: action.token\n      }\n    case ACTION.SET_PLAYLIST:\n      return {\n        ...state, playlist: action.playlist\n      }\n      case ACTION.SET_PLAYING:\n        return {\n          ...state,\n          playing: action.playing,\n        };\n  \n      case ACTION.SET_ITEM:\n        return {\n          ...state,\n          item: action.item,\n        };\n  \n      case ACTION.SET_DISCOVER_WEEKLY:\n        return {\n          ...state,\n          discover_weekly: action.discover_weekly,\n        };\n  \n      case ACTION.SET_TOP_ARTISTS:\n        return {\n          ...state,\n          top_artists: action.top_artists,\n        };\n  \n      case ACTION.SET_SPOTIFY:\n        return {\n          ...state,\n          spotify: action.spotify,\n        };\n    default: \n      return state\n  }\n}\n\n\n","import React from 'react'\nimport './Body.css'\nimport Header from './Header'\nimport SongRow from \"./SongRow\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport { useDataLayerValue } from './DataLayer';\nimport { ACTION } from './reducer';\nfunction Body({ spotify }) {\n  const [{ discover_weekly }, dispatch] = useDataLayerValue();\n\n  const playPlaylist = (id) => {\n    spotify\n      .play({\n        context_uri: `spotify:playlist:37i9dQZEVXcMhtfVtNNKYh`,\n      })\n      .then((res) => {\n        spotify.getMyCurrentPlayingTrack().then((r) => {\n          dispatch({\n            type: \"SET_ITEM\",\n            item: r.item,\n          });\n          dispatch({\n            type: \"SET_PLAYING\",\n            playing: true,\n          });\n        });\n      });\n  };\n\n  const playSong = (id) => {\n    spotify\n      .play({\n        uris: [`spotify:track:${id}`],\n      })\n      .then((res) => {\n        spotify.getMyCurrentPlayingTrack().then((r) => {\n          dispatch({\n            type: ACTION.SET_ITEM,\n            item: r.item,\n          });\n          dispatch({\n            type: ACTION.SET_PLAYING,\n            playing: true,\n          });\n        });\n      });\n  };\n\n  return (\n    <div className=\"body\">\n      <Header spotify={spotify} />\n\n      <div className=\"body_info\">\n        <img src={discover_weekly?.images[0].url} alt=\"\" />\n        <div className=\"body_infoText\">\n          <strong>PLAYLIST</strong>\n          <h2>Discover Weekly</h2>\n          <p>{discover_weekly?.description}</p>\n        </div>\n      </div>\n\n      <div className=\"body_songs\">\n        <div className=\"body_icons\">\n          <PlayCircleFilledIcon\n            className=\"body_shuffle\"\n            onClick={playPlaylist}\n          />\n          <FavoriteIcon fontSize=\"large\" />\n          <MoreHorizIcon />\n        </div>\n\n        {discover_weekly?.tracks.items.map((item) => (\n          <SongRow playSong={playSong} track={item.track} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Body;\n","import React from 'react'\nimport './Footer.css'\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\";\nimport RepeatIcon from \"@material-ui/icons/Repeat\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistPlay\";\nimport { Grid, Slider } from \"@material-ui/core\";\n\n\nfunction Footer() {\n  return (\n    <div className='footer'>\n      <div className='footer_left'>\n        <img className='footer_albumLogo' src=\"https://www.lyricsteam.com/wp-content/uploads/2020/10/titliaan-lyrics.jpg\" alt='' />\n        <div className='footer_songInfo'>\n          <h4>Titilaayn!</h4>\n          <p>Afshza Khan</p>\n        </div>\n      </div>\n      <div className='footer_center'>\n        <ShuffleIcon className='footer_green'></ShuffleIcon>\n        <SkipPreviousIcon className='footer_icon'></SkipPreviousIcon>\n        <PlayCircleOutlineIcon fontSize='large' className='footer_icon'></PlayCircleOutlineIcon>\n        <SkipNextIcon className='footer_icon'></SkipNextIcon>\n        <RepeatIcon className='footer_green'></RepeatIcon>\n      </div>\n      <div className='footer_right'>\n        <Grid container spacing={2}>\n          <Grid item>\n            <PlaylistPlayIcon />\n          </Grid>\n          <Grid item>\n            <VolumeDownIcon />\n          </Grid>\n          <Grid item xs>\n            <Slider aria-labelledby='continuous-slider' />\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport './SidebarOption.css'\nfunction SidebarOption({ title, Icon }) {\n  return (\n    <div className='sidebarOption'>\n      {Icon && <Icon className=\"sidebarOption_icon\" />}\n      {Icon ? <h4>{title}</h4> : <p>{title}</p>}\n    </div>\n  )\n}\n\nexport default SidebarOption\n","import React from 'react'\nimport './Sidebar.css'\nimport SidebarOption from './SidebarOption'\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport LibraryMusicIcon from \"@material-ui/icons/LibraryMusic\";\nimport { useDataLayerValue } from './DataLayer';\n\nfunction Sidebar() {\n  const [{playlist}, dispatch] = useDataLayerValue()\n  return (\n    <div className='sidebar'>\n      <img className='sidebar_logo' src='https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg'/>\n      <SidebarOption title='Home' Icon={HomeIcon}/>\n      <SidebarOption title='Search' Icon={SearchIcon}/>\n      <SidebarOption title='Your Library' Icon={LibraryMusicIcon}/>\n      <br />\n      <strong className='sidebar_title'>PLAYLISTS</strong>\n      <hr />\n      {playlist?.items?.map(playlist => (\n        <SidebarOption title={playlist.name} />\n      ))}\n    </div>\n  )\n}\n\nexport default Sidebar\n","import React from 'react'\nimport Body from './Body'\nimport Footer from './Footer'\nimport './Player.css'\nimport Sidebar from './Sidebar'\n\nfunction Player({ spotify }) {\n  return (\n    <div className='player'>\n      <div className='player_body'>\n        <Sidebar />\n        <Body spotify={spotify} />\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default Player\n","import { useEffect, useState } from 'react';\nimport './App.css';\nimport Login from './Login'\nimport Player from './Player'\nimport { getTokenFromUrl } from './spotify'\nimport SpotifyWebApi from 'spotify-web-api-js'\nimport { useDataLayerValue } from './DataLayer'\nimport { ACTION } from './reducer'\n\nconst spotify = new SpotifyWebApi()\n\nfunction App() {\n\n  const [{ user, token }, dispatch] = useDataLayerValue()\n\n  useEffect(() => {\n    const hash = getTokenFromUrl()\n    window.location.hash = ''\n    const _token = hash.access_token\n    if(_token) {\n      dispatch({\n        type: ACTION.SET_TOKEN, \n        token: _token\n      })\n\n      dispatch({\n        type: ACTION.SET_SPOTIFY,\n        spotify: spotify,\n      }) \n\n      spotify.setAccessToken(_token)\n      spotify.getMe().then(user => {\n        dispatch({\n          type: ACTION.SET_USER,\n          user: user,\n        })\n      })\n      spotify.getUserPlaylists().then(playlists => {\n        dispatch({\n          type: ACTION.SET_PLAYLIST,\n          playlist: playlists\n        })\n      })\n\n      spotify.getMyTopArtists().then((response) =>\n        dispatch({\n          type: ACTION.SET_TOP_ARTISTS,\n          top_artists: response,\n        })\n      )\n\n      spotify.getPlaylist(\"37i9dQZEVXcMhtfVtNNKYh\").then((response) =>\n      dispatch({\n        type: ACTION.SET_DISCOVER_WEEKLY,\n        discover_weekly: response,\n      })\n    )\n    }\n  }, [])\n  return (\n    <div className=\"App\">\n      {\n        token ? <Player spotify={spotify} /> : <Login />\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { DataLayer } from './DataLayer';\nimport { reducer, initialState } from './reducer';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render (\n  <React.StrictMode>\n    <DataLayer initialState={initialState} reducer={reducer}>\n      <App />\n    </DataLayer>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}